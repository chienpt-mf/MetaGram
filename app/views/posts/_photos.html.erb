<%= link_to post_path(post) do %>
  <% if post.photos.present? %>
    <% if post.photos.size == 1 %>
      <% if post.photos.first.image.present? %>
        <%= image_tag post.photos.first.image.url(:standard), class: "card-img-top" %>
      <% end %>
    <% else %>
      <div class="carousel slide" data-ride="carousel" id="carousel-post-<%= post.id %>">
        <div class="carousel-inner">
          <% post.photos.each do |photo| %>
            <div class="carousel-item<%= " active" if photo == post.photos.first %>">
              <% if photo.image.present? %>
                <%= image_tag photo.image.url(:standard), class: "card-img-top" %>
              <% end %>
            </div>
          <% end %>
        </div>
        <a class="carousel-control-prev" href="#carousel-post-<%= post.id %>" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carousel-post-<%= post.id %>" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    <% end %>
  <% end %>
<% end %>
